<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../helpproject.xsl" ?>
<topic template="Default" lasteditedby="rbwinst-pr" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title translate="true">Beginner&apos;s Guide to MODFLOW</title>
  <body>
    <header>
      <para styleclass="Heading1"><text styleclass="Heading1" translate="true">Beginner&apos;s Guide to MODFLOW</text></para>
    </header>
    <para styleclass="Heading2_atoc_"><text styleclass="Heading2_atoc_" translate="true">Obtaining MODFLOW</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">There are several different versions of MODFLOW available. Check </text><link displaytype="text" defaultstyle="true" type="weblink" href="&lt;%LINK_CAPTION%&gt;" target="_blank" styleclass="Normal" translate="true">http://water.usgs.gov/ogw/modflow/index.html</link><text styleclass="Normal" translate="true"> for the version you want. &#160;If you want MODFLOW-2005, you can get it from </text><link displaytype="text" defaultstyle="true" type="weblink" href="&lt;%LINK_CAPTION%&gt;" target="_blank" styleclass="Normal" translate="true">http://water.usgs.gov/ogw/modflow/MODFLOW.html</link><text styleclass="Normal" translate="true">.</text></para>
    <para styleclass="Heading2_atoc_"><text styleclass="Heading2_atoc_" translate="true">Installing MODFLOW</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">On both Windows and Unix/Linux, MODFLOW is distributed as a zip file with source code, documentation, and examples. The Windows version also contains a compiled executable. Users of Unix/Linux will need to compile MODFLOW. To install MODFLOW on Windows, you need to extract the files. The preferred location to install MODFLOW is as a subdirectory of &quot;C:\WRDAPP&quot; (</text><text styleclass="Normal" style="font-weight:bold;" translate="true">W</text><text styleclass="Normal" translate="true">ater </text><text styleclass="Normal" style="font-weight:bold;" translate="true">R</text><text styleclass="Normal" translate="true">esources </text><text styleclass="Normal" style="font-weight:bold;" translate="true">D</text><text styleclass="Normal" translate="true">ivision </text><text styleclass="Normal" style="font-weight:bold;" translate="true">App</text><text styleclass="Normal" translate="true">lication).</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">When you unzip the distribution file, MODFLOW and its associated files should be extracted in a subfolder C:\WRDAPP. For MODFLOW-2005 version 1.8, the subfolder is named &quot;MF2005.1_8&quot;. The MODFLOW program is located in the &quot;bin&quot; subfolder of the MF2005.1_8 folder as shown below.</text></para>
    <para styleclass="Normal" style="text-align:center;"><image src="MODFLOW_Installation_Directory.bmp" scale="100.00%" styleclass="Image Caption"></image></para>
    <para styleclass="Normal" style="text-align:center;"><text styleclass="Image Caption" translate="true">MODFLOW-2005 Installation directory</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">There are actually two different versions of MODFLOW in the bin directory. mf2005.exe is the normal version. &#160;The other version, mf2005dbl.exe, is a version that has been compiled in such a way that all the real numbers used for calculations are in double-precision rather than single precision. Double-precision numbers use 8 bytes rather than 4 bytes to store the number so they are more precise but calculations may take longer and binary files that store double-precision variables will be bigger than if single-precision had bee used. The other programs in the bin directory hydfmt.exe and mnw1to2.exe will not be discussed here. The doc folder contains some of the documentation for MODFLOW. The src folder contains the source code for MODFLOW. The test-run folder contains example input files for MODFLOW. The test-out folder contains output files generated by running the example problems.</text></para>
    <para styleclass="Heading2_atoc_"><text styleclass="Heading2_atoc_" translate="true">Running MODFLOW from the command line on Windows</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">To run MODFLOW from the command line, you must first open a command line window. In Windows, select Start|Run. Then in the &quot;Run&quot; window, type &quot;cmd&quot; and click OK.</text></para>
    <para styleclass="Normal"><table styleclass="Default" rowcount="1" colcount="2">
      <tr style="vertical-align:middle">
        <td>
          <para styleclass="Normal" style="text-align:center;"><image src="StartCMD_1.bmp" scale="100.00%" styleclass="Image Caption"></image></para>
        </td>
        <td>
          <para styleclass="Normal" style="text-align:center;"><image src="StartCMD_2.bmp" scale="100.00%" styleclass="Image Caption"></image></para>
        </td>
      </tr>
    </table></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">In the command line window, you must first navigate to the folder that contains the MODFLOW input files. If the files are on a different drive first type the drive letter followed by a colon.</text></para>
    <para styleclass="Normal" style="text-align:center;"><image src="NavigateToD.bmp" scale="100.00%" styleclass="Image Caption"></image></para>
    <para styleclass="Normal" style="text-align:left;"><text styleclass="Normal" translate="true">Then you need to change the folder to the one that contains your MODFLOW input files. In this case the folder is D:\MyModflowFiles. Use the &quot;CD&quot; command to change directories.</text></para>
    <para styleclass="Normal" style="text-align:center;"><image src="ChangeDirectories.bmp" scale="100.00%" styleclass="Image Caption"></image></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">Next type the full path for MODFLOW followed by the name of the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Name_File" styleclass="Normal" translate="true">Name file</link><text styleclass="Normal" translate="true"> for your model which in this case is GhbTest.nam.</text></para>
    <para styleclass="Normal" style="text-align:center;"><image src="RunMODFLOW.bmp" scale="100.00%" styleclass="Image Caption"></image></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">When MODFLOW has finished running, it will display a message in the command line window. If it says &quot;Normal termination of simulation&quot;, the model ran to completion without any problems.</text></para>
    <para styleclass="Normal" style="text-align:center;"><image src="NormalTermination.bmp" scale="100.00%" styleclass="Image Caption"></image></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">If some other message (or no message) appears, there was some problem with your model.</text></para>
    <para styleclass="Normal" style="text-align:center;"><image src="Failure.bmp" scale="100.00%" styleclass="Image Caption"></image></para>
    <para styleclass="Normal"></para>
    <para styleclass="Heading2_atoc_"><text styleclass="Heading2_atoc_" translate="true">Running MODFLOW with a batch file</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">Running MODFLOW from the command line repeatedly can become tedious. &#160;Another way to run MODFLOW is with a batch file. &#160;A batch file is a simple text file with the extension &quot;.bat&quot; It contains commands that you could type in a command line window. A simple batch file for running MODFLOW might look like this.</text></para>
    <para styleclass="Code Example"><text styleclass="Code Example" translate="true">C:\WRDAPP\MF2005.1_8\bin\mf2005.exe GhbTest.nam</text></para>
    <para styleclass="Code Example"><text styleclass="Code Example" translate="true">pause</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The &quot;pause&quot; command will keep the command line window open until you press a key on the keyboard. That allows you to see what MODFLOW has written to the screen.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">To run the batch file, just double click on it in Windows Explorer.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">On Unix or Linux a shell script can be used similarly to how a batch file is used in Windows.</text></para>
    <para styleclass="Heading2_atoc_"><text styleclass="Heading2_atoc_" translate="true">Running MODFLOW with a graphical user interface</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">Insted of running MODFLOW from the command line, it may be simpler, especially for a beginner to use a graphical user interface for MODFLOW. There are several graphical user interfaces available. See </text><link displaytype="text" defaultstyle="true" type="weblink" href="&lt;%LINK_CAPTION%&gt;" target="_blank" styleclass="Normal" translate="true">http://en.wikipedia.org/wiki/MODFLOW#Graphical_user_interfaces</link><text styleclass="Normal" translate="true"> for examples.</text></para>
    <para styleclass="Heading2_atoc_"><text styleclass="Heading2_atoc_" translate="true">Generating the input files for MODFLOW</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The rest of this guide describes the formats for the MODFLOW input files. &#160;However, modelers are advised to read the original documentation which describes the purposes of the various packages and how they work.</text></para>
    <para styleclass="Heading2_atoc_"><text styleclass="Heading2_atoc_" translate="true">Model design</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The following references may be helpful in designing a model.</text></para>
    <list id="2" type="ul" listtype="bullet" formatstring="&#183;" format-charset="SYMBOL_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="Normal" style="font-family:Symbol; font-size:12pt; color:#000000;">
      <li styleclass="Normal"><text styleclass="Normal" translate="true">Anderson, M. P., and Woessner, W.W., 1992, Applied Groundwater Modeling, Simulation of Flow and Advective Transport, Academic Press, San Diego, 381 p. ISBN: 0-12-059485-4. </text></li>
      <li styleclass="Normal"><anchor id="Hill1998" styleclass="Normal"></anchor><link displaytype="text" defaultstyle="true" type="weblink" href="http://water.usgs.gov/nrp/gwsoftware/modflow2000/WRIR98-4005.pdf" target="_blank" styleclass="Normal" translate="true">Hill, M.C., 1998, Methods and guidelines for effective model calibration: U.S. Geological Survey, Water-Resources Investigations Report 98-4005, 90 p.</link></li>
      <li styleclass="Normal"><anchor id="HillTiedeman2007" styleclass="Normal"></anchor><link displaytype="text" defaultstyle="true" type="weblink" href="http://wwwbrr.cr.usgs.gov/hill_tiedeman_book/" target="_blank" styleclass="Normal" translate="true">Hill, M.C., and Tiedeman, C.R., 2007, Effective groundwater model calibration, with analysis of sensitivities, predictions, and uncertainty: New York, New York, Wiley, 455p.</link></li>
      <li styleclass="Normal"><link displaytype="text" defaultstyle="true" type="weblink" href="http://pubs.usgs.gov/twri/twri-3_B8/" target="_blank" styleclass="Normal" translate="true">Reilly, T.E., 2001 , System and boundary conceptualization in ground-water flow simulation: U.S. Geological Survey Techniques of Water-Resources Investigations, book 3, chap. B8, 30 p.</link></li>
      <li styleclass="Normal"><link displaytype="text" defaultstyle="true" type="weblink" href="http://water.usgs.gov/pubs/sir/2004/5038/" target="_blank" styleclass="Normal" translate="true">Reilly, T.E., and Harbaugh, A.W., 2004, Guidelines for evaluating ground-water flow models: U.S. Geological Survey Scientific Investigations Report 2004-5038, 30 p.</link></li>
    </list>
    <para styleclass="Heading2_atoc_"><text styleclass="Heading2_atoc_" translate="true">Parameters and Observations</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">It is a good idea to define you model using parameters wherever possible because that makes calibrating your model easier. For example, the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="LPF" styleclass="Normal" translate="true">LPF</link><text styleclass="Normal" translate="true"> package supports parameters whereas the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="BCF" styleclass="Normal" translate="true">BCF</link><text styleclass="Normal" translate="true"> package does not so if you use the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="LPF" styleclass="Normal" translate="true">LPF</link><text styleclass="Normal" translate="true"> package </text><text styleclass="Normal" style="font-weight:bold;" translate="true">and you define the hydraulic conductivity using parameters</text><text styleclass="Normal" translate="true">, you will have an easier time calibrating the hydraulic conductivity than you would if you used the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="BCF" styleclass="Normal" translate="true">BCF</link><text styleclass="Normal" translate="true"> package or used the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="LPF" styleclass="Normal" translate="true">LPF</link><text styleclass="Normal" translate="true"> package without parameters.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">You can use the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Observation_Process_Input_File" styleclass="Normal" translate="true">Observation process</link><text styleclass="Normal" translate="true"> to specify the observations against which you wish to calibrate your model. Typically, one type of observation will be head observations. &#160;However, typically you will not be able to calibrate your model using head observations alone. You will usually need to either have some other type of observation such as flow observations or to have prior information. &#160;Prior information is not part of the MODFLOW input but you may be able to specify prior information in one of the programs used for automated model calibration. For more information about model calibration see </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Beginners_Guide_to_MODFLOW" anchor="Hill1998" styleclass="Normal" translate="true">Hill (1998)</link><text styleclass="Normal" translate="true"> and </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Beginners_Guide_to_MODFLOW" anchor="HillTiedeman2007" styleclass="Normal" translate="true">Hill and Tiedeman (2007)</link><text styleclass="Normal" translate="true"> as cited above.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">It can be difficult to convert a model that does not use parameters to one that does so it is best to design your model from the beginning to use parameters.</text></para>
    <para styleclass="Heading2_atoc_"><text styleclass="Heading2_atoc_" translate="true">Tips</text></para>
    <list id="3" type="ul" listtype="bullet" formatstring="&#183;" format-charset="SYMBOL_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="Normal" style="font-family:Symbol; font-size:12pt; color:#000000;">
      <li styleclass="Normal"><text styleclass="Normal" translate="true">When you are first starting to create a model, it is often helpful to treat all layers as confined even if they are really convertible or unconfined. Confined models have fewer problems with cells converting to dry and convergence issues so you can make progress on improving the model. Once you have the model in good shape, you can try converting some layers to unconfined or convertible. At that point, you can try converting to unconfined or convertible layers.</text></li>
    </list>
  </body>
</topic>
