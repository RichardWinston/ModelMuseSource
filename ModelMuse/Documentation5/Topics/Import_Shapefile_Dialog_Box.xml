<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../helpproject.xsl" ?>
<topic template="Default" lasteditedby="rbwinst-pr" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title translate="true">Import Shapefile Dialog Box</title>
  <keywords>
    <keyword translate="true">Shapefile</keyword>
  </keywords>
  <body>
    <header>
      <para style="margin-bottom:10px; line-height:2.0;"><text styleclass="Heading1" translate="true">Import Shapefile Dialog Box</text></para>
    </header>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Import Shapefile</text><text styleclass="Normal" translate="true"> dialog box is used to import Shapefiles into ModelMuse.  To display the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Import Shapefile</text><text styleclass="Normal" translate="true"> dialog box, select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">File|Import|Shapefile... </text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The Shapefile format (Environmental Systems Research Institute, Inc, 1998) is a commonly used file format in Geographic Information Systems.  Other types of geographic information can be converted to Shapefiles using GIS software. One free GIS program is MapWindow </text><link displaytype="text" defaultstyle="true" type="weblink" href="http://www.mapwindow.org/" target="_blank" styleclass="Normal" translate="true">http://www.mapwindow.org/</link><text styleclass="Normal" translate="true">.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The Shapefile is imported either as a series of objects or a single object with multiple sections on the top view of the model. &#160;These objects will set the values of data sets or define boundary conditions as specified by the user. &#160;The names of the imported objects are based on the name of the file from which the objects are imported. &#160;The </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Select_Objects_by_Name" styleclass="Normal" style="font-weight:bold;" translate="true">Select Objects by Name</link><text styleclass="Table Cell" translate="true"> dialog box</text><text styleclass="Normal" translate="true"> can be used to select all these objects at a later time. &#160;</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">After selecting the Shapefile to import, the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Options</text><text styleclass="Normal" translate="true"> tab of the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Import Shapefile</text><text styleclass="Normal" translate="true"> dialog box is displayed. The user decides whether to set the values of enclosed elements, nodes, or cells; intersected elements, nodes, or cells; or to set values or elements, nodes, or cells by interpolation. In PHAST models, the user decides whether to evaluate the objects at element or nodes. &#160;After being imported, the shapes can either be selected, visible but not selected (the default), or hidden. &#160;If there are a very large number of objects to be imported, it may be best to have the objects be hidden when they are imported. The imported objects can have zero, one, or two associated Z-dimension formulas. &#160;To edit these formulas with the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Formula_Editor" styleclass="Normal" style="font-weight:bold;" translate="true">Formula Editor</link><text styleclass="Normal" translate="true">, the user can click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Edit()...</text><text styleclass="Normal" translate="true"> button next to the formula. &#160;In some cases, the user may not wish to import all the shapes in a Shapefile. &#160;The </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Import criterion</text><text styleclass="Normal" translate="true"> can be used to determine which shapes are imported. &#160;The user can enter a formula which will be evaluated for each shape. &#160;Only those shapes for which the formula evaluates to True will be imported. &#160;The user can click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Edit F()… </text><text styleclass="Normal" translate="true">button next to the formula to edit the formula for the import criterion using the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Formula_Editor" styleclass="Normal" style="font-weight:bold;" translate="true">Formula Editor</link><text styleclass="Normal" translate="true">. &#160;The example at the end of this topic shows how the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Import criterion</text><text styleclass="Normal" translate="true"> can be used to advantage. &#160;</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">Some Shapefiles can have a measured value or a z value for each vertex of each shape. If present, these can be imported by checking the </text><text styleclass="Strong" translate="true">Import Z coordinate and slope for each point</text><text styleclass="Normal" translate="true"> or </text><text styleclass="Strong" translate="true">Import measured value for each point</text><text styleclass="Normal" translate="true"> checkboxes. The z and measured values will be imported as vertex values. If Z coordinates are imported, ModelMuse will also compute a slope for each point and import those as vertex values too. (See </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Vertex_Values_Dialog_Box" styleclass="Normal" translate="true">Vertex Values Dialog Box</link><text styleclass="Normal" translate="true">.)</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The attributes of the shapes are displayed in the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Data</text><text styleclass="Normal" translate="true"> tab of the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Import Shapefile</text><text styleclass="Normal" translate="true"> dialog box.  The user chooses which attributes to import by checking the checkbox next to the name of the attribute.  The user can then decide whether to create a new data set for each attribute that is imported or to assign values to existing, compatible data sets.  Only data sets with an orientation of &quot;2-D Top&quot; can be used for the imported shapes.  The user can choose an interpolation method for any new or existing data set for which objects will be imported.  &#160;(See </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Interpolation_Methods" styleclass="Normal" translate="true">Interpolation Methods</link><text styleclass="Normal" translate="true">) &#160;</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">If the user wishes to use imported Shapefiles to set the values of a 3-D data set, the user can define a separate 2-D data set for each </text><link displaytype="text" defaultstyle="true" type="topiclink" href="MODFLOW_Layer_Groups_Dialog_Box" styleclass="Normal" translate="true">layer group</link><text styleclass="Normal" translate="true">, use the default formula of the 3-D data set to link it to the 2-D layer groups and import a separate Shapefile for each layer group. &#160;For example, the user could define 2-D data sets named Kx1, Kx2, and Kx3 to define the hydraulic conductivity in layer groups 1, 2, and 3 respectively. &#160;An appropriate default formula for the Kx data set in this case would be &quot;CaseR(Layer, Kx1, Kx2, Kx3)&quot;.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Features</text><text styleclass="Normal" translate="true"> tab is used to specify that the imported shapes will specify boundary conditions or other similar features. &#160;The </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Features</text><text styleclass="Normal" translate="true"> tab is only visible when it is possible to define model features with the imported shapes. &#160;At the top of the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Features</text><text styleclass="Normal" translate="true"> tab, the user chooses what type of model feature to define using the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Feature choice</text><text styleclass="Normal" translate="true"> combo box. &#160;The user can then enter the number of times periods desired for the imported objects using the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Number of times</text><text styleclass="Normal" translate="true"> edit box. &#160;In the table, either types a constant value that will apply to all the imported objects or selects the shape attributes that will define the properties of the feature. &#160;Additional controls may appear beneath the table. &#160;These are used to define properties of the features that do not vary with time. Some types of features can only be imported as separate objects. These include streams (SFR package), multinode wells (MNW2 package), lakes (LAK package) &#160;head observations (HOB package) and pipes in the Conduit Flow Process (CFP). If the SSM Sink and Source Mixing package in MT3DMS is selected, the concentrations associated with a particular sink and source packages can be imported as part of the sink and source package.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">Some Shapefiles store the coordinates of points as latitudes and longitudes. &#160;On the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Coordinate Conversion</text><text styleclass="Normal" translate="true"> tab, the user can choose to convert those coordinates to Universal Transverse Mercator (UTM) coordinates. &#160;If all the points in the Shapefile belong in the same UTM zone, that zone will be picked automatically. &#160;Otherwise, the user must specify the appropriate zone number in an edit box. &#160;The user also must specify the ellipsoid used as a basis for the conversion. &#160;Normally, the default ellipsoid is appropriate. &#160;More information about coordinate conversions and map projections can be found in Snyder (1987).</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The following example illustrates the use of the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Import criterion</text><text styleclass="Normal" translate="true"> and coordinate conversions. &#160;The Import criterion will be used to select only the shapes from Oklahoma will be imported from a Shapefile containing shapes for rivers throughout the United States. &#160;Oklahoma was selected for this example because example 4 from the PHAST documentation is set in Oklahoma. &#160;The data in the Shapefile are in decimal degrees. &#160;These coordinates will be converted to UTM coordinates.</text></para>
    <list id="2" type="ol" listtype="decimal" formatstring="&#37;&#115;&#46;" format-charset="DEFAULT_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="Normal" style="font-family:&apos;Times New Roman&apos;; font-size:12pt; color:#000000;">
      <li styleclass="Normal"><text styleclass="Normal" translate="true">The National Atlas of the United States (http://nationalatlas.gov/atlasftp.html#hydrogm) has a Shapefile that represents the major streams and water bodies in the United States. &#160;Download the Shapefile version of that data (hydrogm020.tar.gz) and extract its contents. &#160;</text></li>
      <li styleclass="Normal"><text styleclass="Normal" translate="true">In ModelMuse, select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">File|Import|Shapefile…</text><text styleclass="Normal" translate="true"> and then select hydrogl020.shp which was extracted from hydrogm020.tar.gz.</text></li>
      <li styleclass="Normal"><text styleclass="Normal" translate="true">After the Shape geometry file has been read, the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Import Shapefile</text><text styleclass="Normal" translate="true"> dialog box will be displayed. &#160;Go to the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Coordinate Conversion</text><text styleclass="Normal" translate="true"> tab and check the checkbox labeled </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Convert coordinates from decimal degrees to UTM</text><text styleclass="Normal" translate="true">. &#160;Change the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">UTM zone number</text><text styleclass="Normal" translate="true"> to 14. &#160;This is the appropriate UTM zone for Oklahoma.</text></li>
      <li styleclass="Normal"><text styleclass="Normal" translate="true">Go to the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Data</text><text styleclass="Normal" translate="true"> tab and change the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Import criterion</text><text styleclass="Normal" translate="true"> to </text></li>
    </list>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">Pos(&quot;OK&quot;, UpperCase(STATE)) &gt; 0.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">STATE is one of the attributes of the Shapefile. &#160;It holds abbreviations for the state or states in which each water body is present. &#160;This formula evaluates to true if the water body is in the state of Oklahoma (abbreviation = “OK”). &#160;The user can choose which attributes to import by selecting them at the top of the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Data</text><text styleclass="Normal" translate="true"> tab and clicking the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">OK</text><text styleclass="Normal" translate="true"> button. &#160;For an explanation of the attributes in the Shapefile, see the file hydrogm020.txt that came with the Shapefile. &#160;</text></para>
    <list id="2" type="ol" listtype="decimal" formatstring="&#37;&#115;&#46;" format-charset="DEFAULT_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="Normal" style="font-family:&apos;Times New Roman&apos;; font-size:12pt; color:#000000;">
      <li styleclass="Normal"><text styleclass="Normal" translate="true">After the shapes have been imported, select </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Go_To_Dialog_Box" styleclass="Normal" style="font-weight:bold;" translate="true">Navigation|Go To…</link><text styleclass="Normal" translate="true"> and select the first imported shape. &#160;Then zoom out to see all the imported water bodies. &#160;Only shapes that are at least partially in Oklahoma will have been imported, and their coordinates will have been converted to UTM coordinates (fig. 26).</text></li>
    </list>
    <para styleclass="Normal"></para>
    <para styleclass="Normal" style="text-align:center;"><image src="OklahomaRivers.png" scale="100.00%" styleclass="Image Caption"><title translate="true">Imported Oklahoma water bodies</title></image></para>
    <para styleclass="Image Caption"><text styleclass="Image Number" translate="true">Figure 26</text><text styleclass="Image Caption" translate="true">. Imported Oklahoma water bodies.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">See also: </text></para>
    <list id="3" type="ul" listtype="bullet" formatstring="&#183;" format-charset="SYMBOL_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="Normal" style="font-family:Symbol; font-size:12pt; color:#000000;">
      <li styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="Export_Shapefile_Dialog_Box" styleclass="Normal" style="font-weight:bold;" translate="true">Export Grid/Mesh Data to Shapefile</link><link displaytype="text" defaultstyle="true" type="topiclink" href="Export_Shapefile_Dialog_Box" styleclass="Normal" translate="true"> dialog box</link></li>
      <li styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="Export_Objects_to_Shapefile" styleclass="Strong" translate="true">Export Objects to Shapefile</link><link displaytype="text" defaultstyle="true" type="topiclink" href="Export_Objects_to_Shapefile" styleclass="Normal" translate="true"> dialog box</link></li>
      <li styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="File" anchor="ExportContoursToShapefile" styleclass="Normal" translate="true">Export Contours to Shapefile</link></li>
      <li styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="File" anchor="ExportPathlinesToShapefile" styleclass="Normal" translate="true">Export Pathlines to Shapefile</link></li>
      <li styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="File" anchor="ExportEndpointsAtStartingLocationsToShapefile" styleclass="Normal" translate="true">Export Endpoints at Starting Locations to Shapefile</link></li>
      <li styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="File" anchor="ExportEndpointsAtEndingLocationsToShapefile" styleclass="Normal" translate="true">Export Endpoints at Ending Locations to Shapefile</link></li>
      <li styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="File" anchor="ExportTimeSeriesToShapefile" styleclass="Normal" translate="true">Export Time Series to Shapefile</link></li>
      <li styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="File" anchor="ExportHeadObservationsToShapefile" styleclass="Normal" translate="true">Export Head Observations to Shapefile</link></li>
    </list>
  </body>
</topic>
