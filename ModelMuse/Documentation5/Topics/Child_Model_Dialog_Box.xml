<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../helpproject.xsl" ?>
<topic template="Default" lasteditedby="rbwinst-pr" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title translate="true">Child Models Dialog Box</title>
  <body>
    <header>
      <para styleclass="Heading1"><text styleclass="Heading1" translate="true">Child Models Dialog Box</text></para>
    </header>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">Some versions of MODFLOW (such as MODFLOW-LGR) allow child models to be embedded in parent models. The </text><text styleclass="Strong" translate="true">Child Models</text><text styleclass="Normal" translate="true"> dialog box is where such child models are defined. &#160;To display it, first make </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Model" anchor="LGR_Selection" styleclass="Normal" translate="true">MODFLOW-LGR</link><text styleclass="Normal" translate="true"> the active model and then select </text><text styleclass="Strong" translate="true">Model|Child Models</text><text styleclass="Normal" translate="true">.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">To create a new child model, click the </text><text styleclass="Strong" translate="true">Create new child model</text><text styleclass="Normal" translate="true">&#32;</text><image src="AddChildModel.bmp" scale="100.00%" styleclass="Image Caption"></image><text styleclass="Normal" translate="true"> button. To delete a child model, select the model from the list and click the </text><text styleclass="Strong" translate="true">Delete selected child model </text><image src="DeleteChildModel.bmp" scale="100.00%" styleclass="Image Caption"></image><text styleclass="Normal" translate="true"> button. To edit a child model, select it in the list of models on the left and use the controls on the rest of the dialog box to set the properties of the model.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The </text><text styleclass="Strong" translate="true">Child Models</text><text styleclass="Normal" translate="true"> dialog box has three tabs: </text><text styleclass="Strong" translate="true">Basic,</text><text styleclass="Normal" translate="true">&#32;</text><text styleclass="Strong" translate="true">Discretization</text><text styleclass="Normal" translate="true">, and.</text><text styleclass="Strong" translate="true">Solution</text><text styleclass="Normal" translate="true">. Some fundamental properties are assigned on the </text><text styleclass="Strong" translate="true">Basic</text><text styleclass="Normal" translate="true"> tab. The </text><text styleclass="Strong" translate="true">Discretization</text><text styleclass="Normal" translate="true"> tab is used to define how each layer in the parent model is discretized in the child model. The </text><text styleclass="Strong" translate="true">Solution</text><text styleclass="Normal" translate="true"> tab is used to define properties related to the solving the MODFLOW-LGR model. </text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The checkbox labeled </text><text styleclass="Strong" translate="true">Save BFH boundary conditions (IUPBHSV, IUPBFSV, IUCBHSV IUCBFSV)</text><text styleclass="Normal" translate="true"> applies to both the parent model and all of the child models. If it is checked, the files for the coupling and complementary boundary conditions will be saved by MODFLOW-LGR for later use with the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="BFH_-_Boundary_Flow_and_Head_P" domain="ModflowGuide.hmxp" styleclass="Normal" translate="true">BFH</link><text styleclass="Normal" translate="true"> package. (However, these files are only saved if </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Child_Model_Dialog_Box" anchor="MXLGRITER" styleclass="Normal" translate="true">two-way</link><text styleclass="Normal" translate="true"> coupling is used.)</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">Child model name</text><text styleclass="Normal" translate="true"> is used to identify the child model within ModelMuse. It also is used to help specify the name of the model input files. It can only contain ASCII characters.</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">Bottom layer group (NPLEND)</text><text styleclass="Normal" translate="true"> and </text><text styleclass="Strong" translate="true">Bottom layer within layer group (NPLEND)</text><text styleclass="Normal" translate="true"> are used to define the lowest layer within the parent model that will be part of the child model. &#160;Only simulated </text><link displaytype="text" defaultstyle="true" type="topiclink" href="MODFLOW_Layer_Groups_Dialog_Box" styleclass="Normal" translate="true">layers groups</link><text styleclass="Normal" translate="true"> can be selected as the bottom layer group because non-simulated layer groups do not represent a layer in the MODFLOW model. &#160;If the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Discretization_Tab" anchor="Vertical_discretization" styleclass="Normal" translate="true">vertical discretization</link><text styleclass="Normal" translate="true"> of a layer group is greater than 1, </text><text styleclass="Strong" translate="true">Bottom layer within layer group</text><text styleclass="Normal" translate="true"> defines which layer contains the bottom of the child model.</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">Number of child cells per parent cell along rows and columns (NCPP)</text><text styleclass="Normal" translate="true"> defines the degree of refinement of the child grid relative to the parent grid. NCPP must be an integer greater than 1. &#160;In MODFLOW-LGR, NCPP must be an odd integer. (The actual horizontal location of the child grid is defined by an object. The object must be drawn on the top view of the model and have zero Z formulas. &#160;Any object that meets these criteria can </text><link displaytype="text" defaultstyle="true" type="topiclink" href="LGR_tab" anchor="DefineChild" styleclass="Normal" translate="true">define the boundary of a child model</link><text styleclass="Normal" translate="true">.)</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">Starting heads (ISHFLG)</text><text styleclass="Normal" translate="true">: The starting heads for the child model can come either from the parent model or from its own input in the Basic package. For steady-state simulations, the heads from the &#160;parent model can provide a good initial guess which can reduce computational time. For transient simulations, using heads from the parent model overwrites the initial condition of the child model and, therefore, is not recommended.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The table on the </text><text styleclass="Strong" translate="true">Discretization</text><text styleclass="Normal" translate="true"> tab is used to define how many child model layers represent each parent model layer.</text></para>
    <para styleclass="Normal"><anchor id="MXLGRITER" styleclass="Strong"></anchor><text styleclass="Strong" translate="true">Maximum number of LGR iterations in two-way coupling (MXLGRITER)</text><text styleclass="Normal" translate="true">: During the solution process, the parent and child models are each solved repeatedly until the head and flux closure criteria are both met or until MXLGRITER is exceeded. For one way coupling MXLGRITER will automatically be set to 1.</text></para>
    <para styleclass="Normal"><anchor id="IOUTLGR" styleclass="Strong"></anchor><text styleclass="Strong" translate="true">Print maximum head and flux change (IOUTLGR)</text><text styleclass="Normal" translate="true">: MODFLOW-LGR allows the maximum head and flux change to be printed to the screen, the listing file, or neither. If it is printed, the layer, row, and column where the maximum head and flux change occurs is also printed. For head changes, the cell is the cell in the child grid. For flux changes, the cell is the cell in the parent grid. This information can be helpful in diagnosing problems with the model.</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">Relaxation factor for heads (RELAXH)</text><text styleclass="Normal" translate="true"> and </text><text styleclass="Strong" translate="true">Relaxation factor for fluxes (RELAXF)</text><text styleclass="Normal" translate="true">: Values of RELAXH and RELAXF less than 1 and greater than zero are needed for convergence of the LGR iterations. Typically, values around 0.5 produce convergent solutions. Values less than 0.5 may be needed when the LGR iterations have difficulty converging. In cases in which the LGR iterations exhibit no convergence difficulties, values greater than 0.5 may reduce the number of iterations needed for convergence. Convergence difficulties can be diagnosed by printing the maximum head and flux changes (</text><link displaytype="text" defaultstyle="true" type="topiclink" href="Child_Model_Dialog_Box" anchor="IOUTLGR" styleclass="Normal" translate="true">IOUTLGR</link><text styleclass="Normal" translate="true">) to determine if the head and flux changes are decreasing (converging) or increasing (diverging) as the LGR iterations proceed.</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">Head closure criterion (HCLOSELGR)</text><text styleclass="Normal" translate="true"> is the head closure criterion for the LGR iterations. The closure criterion is based on heads of the child-interface nodes. This closure criterion is satisfied when the maximum absolute head change between successive LGR iterations is less than HCLOSELGR (see equation 8b of the LGR documentation, Mehl and Hill, 2005). The head closure criterion for LGR should be larger than the head closure criteria in the parent and child models.</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">Flux closure criterion (FCLOSELGR)</text><text styleclass="Normal" translate="true"> is the flux closure criterion for the LGR iterations. The closure criterion is based on fluxes into the parent-interface nodes. This closure criterion is satisfied when the maximum absolute relative flux change between successive LGR iterations is less than FCLOSELGR (see equation 8a of the LGR documentation, Mehl and Hill, 2005).</text></para>
  </body>
</topic>
